var c=(t,o,e)=>new Promise((n,a)=>{var r=d=>{try{s(e.next(d))}catch(l){a(l)}},i=d=>{try{s(e.throw(d))}catch(l){a(l)}},s=d=>d.done?n(d.value):Promise.resolve(d.value).then(r,i);s((e=e.apply(t,o)).next())});import{G as f}from"./index-8664809e.js";import{a as h,a7 as g}from"./index.js";import{Z as m,_ as p,a2 as _,a3 as v,$ as y}from"./vue-07f122e3.js";import"./antd-5ec2f20c.js";const b={data(){return{nodes:[],edges:[],activeIndex:1}},mounted(){return c(this,null,function*(){yield this.getNodeData()})},methods:{getNodeData(){var t=g.get("http://54.211.182.203:8080/getAllHomelessForDashboard/");t.then(o=>{var e=o.data.nodes.map(function(n){return n.id});this.initG6(o.data,e)})},initG6(t,o){var e=document.getElementById("mountNode"),n=e.scrollWidth,a=e.scrollHeight||500,r=new f.Graph({container:e,width:n,height:a,layout:{type:"fruchterman",gravity:5,speed:5,tick:()=>{r.refreshPositions(),i.updateData(i.members)}},defaultEdge:{type:"circle-running",fill:"#87BBF1",style:{lineWidth:1,stroke:"#bae7ff",endArrow:!0}},defaultNode:{type:"donut",size:30,style:{fill:"steelblue",stroke:"#EBF2FF",lineWidth:1}},modes:{default:["drag-canvas"]}});r.data({nodes:t.nodes,edges:t.edges.map(function(s,d){return s.id="edge"+d,Object.assign({},s)})}),r.render(),r.on("node:dragstart",function(s){r.layout(),u(s)}),r.on("node:drag",function(s){u(s)}),r.on("node:dragend",function(s){s.item.get("model").fx=null,s.item.get("model").fy=null});var i=r.createHull({id:"leafNode-hull1",members:o,padding:10,style:{fill:"#87EAEF",stroke:"green"}});r.on("node:mouseenter",s=>{var d=w(s.item._cfg.id,t);i.updateData(d)}),r.on("node:click",s=>{this.$router.push("/dashboard/homeless")}),typeof window!="undefined"&&(window.onresize=()=>{!r||r.get("destroyed")||!e||!e.scrollWidth||!e.scrollHeight||r.changeSize(e.scrollWidth,e.scrollHeight)})}}};function w(t,o){for(var e=[],n=0;n<o.nodes.length;n++)o.nodes[n].id==t&&e.push(o.nodes[n].id);for(var n=0;n<o.edges.length;n++)o.edges[n].target==t&&e.push(o.edges[n].source);return e}function u(t){var o=t.item.get("model");o.fx=t.x,o.fy=t.y}const x=t=>(_("data-v-e49c780b"),t=t(),v(),t),N={style:{padding:"30px"}},k=x(()=>y("div",{id:"mountNode",style:{"margin-top":"20px"}},null,-1)),B=[k];function D(t,o,e,n,a,r){return m(),p("div",N,B)}const H=h(b,[["render",D],["__scopeId","data-v-e49c780b"]]);export{H as default};
